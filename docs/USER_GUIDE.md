# Smart Scheduler 사용 가이드

md 파일을 드래그앤드롭하면 자동으로 스케줄을 생성하고 Google Calendar에 등록하는 시스템입니다.

---

## 1. 빠른 시작

### 1.1 기본 사용법

1. **md 파일 준비**: 프로젝트 또는 루틴 파일 작성
2. **파일 업로드**: 웹페이지에 드래그앤드롭
3. **역할 선택**: Focus / Buffer / Routine 선택
4. **스케줄 생성**: 미리보기 확인
5. **캘린더 등록**: Google Calendar에 동기화

### 1.2 파일 종류

| 종류 | 용도 | 배치 순서 |
|------|------|----------|
| **루틴** | 반복 일정 (회의, 운동 등) | 1순위 (먼저 배치) |
| **Focus 프로젝트** | 집중할 프로젝트 | 2순위 |
| **Buffer 프로젝트** | 여유 시간에 할 프로젝트 | 3순위 (마지막) |

---

## 2. 설정 페이지

### 2.1 가용 시간 설정

각 요일별로 스케줄링 가능한 시간대를 설정합니다.

**슬롯 타입:**

| 타입 | 설명 | 배치 가능 |
|------|------|----------|
| `전체` (any) | 모든 유형 | 루틴 + 프로젝트 |
| `루틴` (routine) | 루틴 전용 | 루틴만 |
| `프로젝트` (project) | 프로젝트 전용 | Focus/Buffer만 |

**시간 자동 정렬**: 시간대를 추가하면 자동으로 시간순 정렬됩니다.

### 2.2 권장 설정

```
월~금:
  06:00-07:00  [루틴]     ← 개인 루틴 (운동)
  10:00-13:00  [전체]     ← 업무 루틴 + 프로젝트
  14:00-19:00  [전체]     ← 업무 루틴 + 프로젝트
  19:00-23:00  [전체]     ← 개인 시간

토~일:
  21:00-24:00  [전체]     ← 주말 개인 시간
```

---

## 3. 파일 작성법

### 3.1 프로젝트 파일

```markdown
---
project: 프로젝트명
priority: high | medium | low
deadline: 2025-01-15 (선택)
---

## Tasks

- [ ] #1 태스크명 | 소요시간 | 블록타입 | 의존성
- [ ] #2 다음 태스크 | 2h | long | after:#1
```

**태스크 라인 형식:**
```
- [ ] #번호 태스크명 | 소요시간 | 블록타입 | 의존성
```

| 요소 | 필수 | 예시 |
|------|------|------|
| 번호 | O | #1, #2, #3 |
| 태스크명 | O | API 연동 개발 |
| 소요시간 | O | 1h, 30m, 2.5h |
| 블록타입 | X | short, long, any |
| 의존성 | X | after:#1, after:#1,#2 |

**블록타입:**
- `short`: 1시간 이하 슬롯에 배치 (간단한 작업)
- `long`: 3시간 이상 슬롯에 배치 (집중 작업)
- `any`: 모든 슬롯에 배치 (기본값)

### 3.2 루틴 파일

```markdown
---
type: routine
name: 루틴 이름
priority: high | medium | low
---

## Schedule

- [ ] 루틴명 | 소요시간 | 반복주기 | 선호시간
```

**루틴 라인 형식:**
```
- [ ] 루틴명 | 소요시간 | 반복주기 | 선호시간
```

| 요소 | 필수 | 예시 |
|------|------|------|
| 루틴명 | O | 팀 미팅 |
| 소요시간 | O | 1h, 30m |
| 반복주기 | O | daily, weekdays, Mon,Wed,Fri |
| 선호시간 | X | 09:00, morning, afternoon |

**반복주기:**
- `daily`: 매일
- `weekdays`: 월~금
- `weekends`: 토~일
- `Mon,Wed,Fri`: 특정 요일 (쉼표로 구분)

**선호시간:**
- `09:00`: 정확한 시간
- `morning`: 09:00-12:00 중 가용 시간
- `afternoon`: 12:00-18:00 중 가용 시간
- `evening`: 18:00-23:00 중 가용 시간
- 생략: 자동 배치

---

## 4. 업무/개인 분리 활용법

### 4.1 업무 루틴 + 프로젝트 함께 사용

**설정:**
- 업무 시간 (10:00-19:00)을 `전체(any)` 타입으로 설정
- 루틴이 먼저 배치되고, 남는 시간에 프로젝트가 배치됨

**파일 업로드:**
1. 업무 루틴 파일 (스탠드업, 정기 미팅 등) → Routine
2. 업무 프로젝트 파일 → Focus
3. 개인 프로젝트 파일 → Buffer

### 4.2 배치 결과 예시

```
월요일:
  06:00-07:00  [운동]              ← 개인 루틴
  10:00-10:30  [데일리 스탠드업]    ← 업무 루틴 (먼저 배치)
  10:30-13:00  [API 개발]          ← Focus 프로젝트
  14:00-15:00  [주간 팀 미팅]       ← 업무 루틴
  15:00-19:00  [기능 구현]          ← Focus 프로젝트
  19:00-21:00  [사이드 프로젝트]    ← Buffer 프로젝트
```

---

## 5. 주요 기능

### 5.1 태스크 분할
3시간 이상의 긴 태스크는 자동으로 여러 슬롯에 나눠서 배치됩니다.
- 예: 6시간 태스크 → Part 1 (3h) + Part 2 (3h)

### 5.2 의존성 처리
`after:#N` 으로 선행 태스크를 지정하면 해당 태스크 완료 후에 배치됩니다.

### 5.3 루틴 대체 배치
선호 시간에 가용 슬롯이 없으면 같은 주의 다른 요일에 자동으로 대체 배치됩니다.

### 5.4 캘린더 이벤트 형식
- 프로젝트: `[프로젝트명] 태스크명`
- 분할 태스크: `[프로젝트명] 태스크명 (Part 1)`
- 루틴: `루틴명`

---

## 6. 문제 해결

### Q: 루틴이 배치되지 않아요
- 해당 시간대의 슬롯 타입이 `루틴` 또는 `전체`인지 확인하세요.
- `프로젝트` 타입 슬롯에는 루틴이 배치되지 않습니다.

### Q: 프로젝트가 배치되지 않아요
- 해당 시간대의 슬롯 타입이 `프로젝트` 또는 `전체`인지 확인하세요.
- Focus/Buffer 역할이 올바르게 선택되었는지 확인하세요.

### Q: 업무 루틴을 업무 시간에 배치하고 싶어요
- 업무 시간대를 `전체(any)` 타입으로 설정하세요.
- 루틴이 프로젝트보다 먼저 배치됩니다.

### Q: 태스크가 너무 길어서 배치되지 않아요
- 시스템이 자동으로 분할 배치합니다.
- 또는 태스크를 수동으로 나눠서 작성하세요.
